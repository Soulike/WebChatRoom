<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>聊天室 - Skyline</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="stylesheets/share.css">
    <link rel="stylesheet" href="stylesheets/room.css">
    <link rel="icon" href="images/icon.png">
</head>
<body>
<img src="images/style.png" alt="style" role="button" class="img-circle rotate" id="style-btn" data-toggle="modal"
     data-target="#modify-style-modal">
<section class="container">
    <section id="panels" class="center">
        <div class="panel panel-primary" id="list-panel">
            <div class="panel-heading table-display" id="list-panel-heading">
                <div class="table-row-display">
                    <div id="nickname-cell" class="table-cell-display middle dropdown">
                        <span class="glyphicon glyphicon-ok" id="status-icon"></span>
                        <span role="button" data-toggle="dropdown" aria-haspopup="true"
                              aria-expanded="true" id="switch-status-btn">
                            <span id="nickname"><!--nickname here--></span>
                            <span class="caret"></span>
                        </span>
                        <ul class="dropdown-menu" aria-labelledby="switch-status-btn">
                            <li>
                                <a role=button class="status" id="1">
                                    <span class="glyphicon glyphicon-ok"></span> 在线
                                </a>
                            </li>
                            <li>
                                <a role=button class="status" id="2">
                                    <span class="glyphicon glyphicon-eye-open"></span> 窥屏
                                </a>
                            </li>
                            <li>
                                <a role=button class="status" id="3">
                                    <span class="glyphicon glyphicon-glass"></span> 离开
                                </a>
                            </li>
                            <li role="separator" class="divider"></li>
                            <li>
                                <a role=button class="status" id="0">
                                    <span class="glyphicon glyphicon-off"></span> 退出
                                </a>
                            </li>
                        </ul>
                    </div>
                    <span id="avatar-link" class="table-cell-display middle" role="button" data-toggle="modal"
                          data-target="#modify-info-modal">
                        <img src="images/avatars/avatar.png" alt="avatar" class="img-circle rotate" id="avatar">
                    </span>
                </div>
            </div>
            <div class="panel-body">
                <div class="table-display" id="list-table"><!--User rows here--></div>
            </div>
        </div>
        <div class="panel panel-primary" id="chat-panel">
            <div class="panel-heading text-center"><span class="glyphicon glyphicon-object-align-right"></span> 聊天室
            </div>
            <div class="panel-body">
                <div class="table-display" id="chat-panel-body-table">
                    <div class="table-row-display" id="dialog-area-row">
                        <div class="table-cell-display" id="dialog-area-cell">
                            <div id="dialog-area">
                                <div class="table-display" id="message-table"><!--User messages here--></div>
                            </div>
                        </div>
                    </div>
                    <div class="table-row-display" id="control-bar-row">
                        <div class="table-cell-display">
                            <div class="navbar navbar-default" id="control-bar">
                                <div class=".container-fluid">
                                    <div class="btn-group dropup">
                                        <button type="button" class="btn btn-primary btn-sm dropdown-toggle"
                                                data-toggle="dropdown"
                                                aria-haspopup="true" aria-expanded="false">
                                            <span class="glyphicon glyphicon-font"> </span> <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a class="font-style" id="song" href="">宋体</a></li>
                                            <li><a class="font-style" id="msyh" href="">微软雅黑</a></li>
                                            <li><a class="font-style" id="kai" href="">楷体</a></li>
                                            <li><a class="font-style" id="fangSong" href="">仿宋</a></li>
                                        </ul>
                                    </div>
                                    <button class="btn btn-primary btn-sm" id="bold-btn">
                                        <span class="glyphicon glyphicon-bold"></span>
                                    </button>
                                    <div class="btn-group dropup">
                                        <button type="button" class="btn btn-primary btn-sm dropdown-toggle"
                                                data-toggle="dropdown"
                                                aria-haspopup="true" aria-expanded="false">
                                            字号 <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a class="font-size" href="">14</a></li>
                                            <li><a class="font-size" href="">16</a></li>
                                            <li><a class="font-size" href="">18</a></li>
                                            <li><a class="font-size" href="">20</a></li>
                                            <li><a class="font-size" href="">22</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="table-row-display" id="dialog-textarea-row">
                        <div class="table-cell-display" id="dialog-textarea-cell">
                            <form action="" id="dialog-form">
                    <textarea name="dialog" id="dialog-textarea" placeholder="输入你想说的话吧，最多50字哦~"
                              class="form-control" autofocus></textarea>
                                <span id="message-length-span" class="label label-primary"></span>
                                <button type="submit" class="btn btn-primary" id="dialog-submit-button" disabled>
                                    <span class="glyphicon glyphicon-send"></span> 发送
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</section>

<!--Modify info modal-->
<div class="modal fade" id="modify-info-modal" tabindex="-1" role="dialog" aria-labelledby="avatar-link">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title"><span class="glyphicon glyphicon-wrench"></span> 修改信息</h4>
            </div>
            <div class="modal-body">
                <div class="alert alert-info modal-alert" role="alert">
                    <span class="glyphicon glyphicon-info-sign"></span> 头像需为 JPEG、PNG 格式方形图片，否则将会被压缩变形。
                </div>
                <div>
                    <div id="current-avatar-div"><img src="images/avatars/avatar.png" alt="avatar" id="current-avatar"></div>
                    <div id="avatar-upload-control-div"><input type="file" id="avatar-upload-control"></div>
                </div>
                <div id="new-info-div">
                    <input type="text" id="new-nickname" class="form-control" placeholder="昵称" minlength="1"
                           maxlength="8">
                    <input type="number" id="new-age" class="form-control" placeholder="年龄" min="0" max="120"
                           maxlength="3">
                    <select name="new_gender" id="new-gender" class="form-control">
                        <option value="male">男</option>
                        <option value="female">女</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="modify-info-modal-button"><span class="glyphicon glyphicon-floppy-disk"></span> 保存
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    <span class="glyphicon glyphicon-remove"></span>关闭
                </button>
            </div>
        </div>
    </div>
</div>

<!--Modify style modal-->
<div class="modal fade" id="modify-style-modal" tabindex="-1" role="dialog" aria-labelledby="avatar-link">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title"><span class="glyphicon glyphicon-star"></span> 更改背景</h4>
            </div>
            <div class="modal-body">
                <div class="alert alert-info modal-alert" role="alert"><span
                        class="glyphicon glyphicon-info-sign"></span> 聊天室背景支持JPEG、PNG格式，请确保您上传的背景足够清晰、比例正确。
                </div>
                <form action="" id="background-upload-form">
                    <input type="file" id="background-upload-control" accept="image/jpeg,image/png">
                </form>
                <div class="progress" id="background-upload-progress-bar-div">
                    <div class="progress-bar progress-bar-striped active" id="background-upload-progress-bar"
                         role="progressbar" aria-valuemin="0" aria-valuemax="100">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="modify-style-modal-button">
                    <span class="glyphicon glyphicon-floppy-disk"></span> 保存
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    <span class="glyphicon glyphicon-remove"></span>关闭
                </button>
            </div>
        </div>
    </div>
</div>

<!--Offline modal-->
<div class="modal fade" tabindex="-1" role="dialog" id="offline-modal">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">错误</h4>
            </div>
            <div class="modal-body">
                <div class="alert alert-danger modal-alert" role="alert">
                    <span class="glyphicon glyphicon-remove-sign"></span> 登录状态错误，请重新登录
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">
                    <span class="glyphicon glyphicon-ok-sign"></span> 确定
                </button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdn.bootcss.com/socket.io/2.0.3/socket.io.js"></script>
<script src="scripts/compiled/lib.js"></script>
<script src="scripts/compiled/room.js"></script>
</body>
</html>